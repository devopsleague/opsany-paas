{"script_name": "\u67e5\u770bLinux\u7cfb\u7edf\u6709\u767b\u5f55\u6743\u9650\u7684\u7528\u6237", "version": "admin-20220528155742200133", "version_remarks": "", "script_type": "sh", "script": "#!/bin/bash\n# Description:  Get Linux \u6709\u767b\u5f55\u6743\u9650\u7684\u7528\u6237,\u5bb6\u76ee\u5f55\uff0c\u6700\u540e\u767b\u5f55\u65f6\u95f4\n\necho -e \"\\033[33m---------------- \u6709\u767b\u5f55\u6743\u9650\u7684\u7528\u6237 ----------------\\033[0m\"\nUSER=`cat /etc/passwd |awk -F \":\" '{print $1,$NF}'|grep  \"bash\"|awk '{print $1}'`\necho -e  \"\u767b\u5f55\u7684\u7528user\uff1a \" \"\\n${USER}\"\necho -e \"\\033[33m---------------- \u6709\u767b\u5f55\u6743\u9650\u7684\u7528\u6237\u7684\u5bb6\u76ee\u5f55 ----------------\\033[0m\"\nHOMEDIR=`cat /etc/passwd |awk -F \":\" '{print $1,$6,$NF}'|grep  \"bash\"|awk '{print $2}'`\necho -e \"\u767b\u5f55\u7528\u6237\u7684\u5bb6\u76ee\u5f55\uff1a \" \"\\n${HOMEDIR}\"\necho -e \"\\033[33m---------------- \u6709\u767b\u5f55\u6743\u9650\u7684\u7528\u6237\u53ca\u6700\u540e\u767b\u5f55\u65f6\u95f4 ----------------\\033[0m\"\nLASTLOGIN=`for n in ${USER}; do lastlog -u $n|awk 'NR > 1 {print $1,$2,$4,$5,$6,$7,$8,$9}';done`\necho -e \"\u767b\u5f55\u7528\u6237\u53ca\u6700\u540e\u767b\u5f55\u65f6\u95f4\uff1a \" \"\\n${LASTLOGIN}\"\n"}