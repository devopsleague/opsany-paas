{"script_name": "\u67e5\u770bLinux\u7cfb\u7edf\u6709\u767b\u5f55\u6743\u9650\u7684\u7528\u6237", "version": "admin-20241114144025502067", "version_remarks": "\u521d\u59cb\u5316\u5185\u7f6e", "script_type": "sh", "visible": "2", "script": "#!/bin/bash\n# Description:  Get Linux \u6709\u767b\u5f55\u6743\u9650\u7684\u7528\u6237,\u5bb6\u76ee\u5f55\uff0c\u6700\u540e\u767b\u5f55\u65f6\u95f4\n\necho -e \"------ \u6709\u767b\u5f55\u6743\u9650\u7684\u7528\u6237 ------\"\nUSER=`cat /etc/passwd |awk -F \":\" '{print $1,$NF}'|grep  \"bash\"|awk '{print $1}'`\necho -e  \"\u767b\u5f55\u7684\u7528user\uff1a \" \"\\n${USER}\"\necho -e \"------ \u6709\u767b\u5f55\u6743\u9650\u7684\u7528\u6237\u7684\u5bb6\u76ee\u5f55 ------\"\nHOMEDIR=`cat /etc/passwd |awk -F \":\" '{print $1,$6,$NF}'|grep  \"bash\"|awk '{print $2}'`\n\necho -e \"\u767b\u5f55\u7528\u6237\u7684\u5bb6\u76ee\u5f55\uff1a \" \"\\n${HOMEDIR}\"\n\necho -e \"------ \u6709\u767b\u5f55\u6743\u9650\u7684\u7528\u6237\u53ca\u6700\u540e\u767b\u5f55\u65f6\u95f4 ------\"\nLASTLOGIN=`for n in ${USER}; do lastlog -u $n|awk 'NR > 1 {print $1,$2,$4,$5,$6,$7,$8,$9}';done`\n\necho -e \"\u767b\u5f55\u7528\u6237\u53ca\u6700\u540e\u767b\u5f55\u65f6\u95f4\uff1a \" \"\\n${LASTLOGIN}\"\n"}